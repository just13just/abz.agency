(this["webpackJsonpsome-app"]=this["webpackJsonpsome-app"]||[]).push([[0],{201:function(e,t,s){"use strict";s.r(t);var n=s(0),c=s.n(n),a=s(16),r=s.n(a),i=(s(87),s(10)),o=s(9),l=s(1),d=function(){return Object(l.jsx)("section",{className:"about-me",children:Object(l.jsx)("div",{className:"about-me__bg content-container",children:Object(l.jsx)("div",{className:"about-me__container",children:Object(l.jsxs)("div",{children:[Object(l.jsx)("div",{className:"about-me__title",children:"Test assignment for frontend developer position"}),Object(l.jsxs)("div",{className:"about-me__description",children:[Object(l.jsx)("div",{className:"about-me__description_desktop",children:" We kindly remind you that your test assignment should be submitted as a link to github/bitbucket repository. Please be patient, we consider and respond to every application that meets minimum requirements. We look forward to your submission. Good luck! The photo has to scale in the banner area on the different screens"}),Object(l.jsx)("div",{className:"about-me__description_mobile",children:" We kindly remind you that your test assignment should be submitted as a link to github/bitbucket repository."})]}),Object(l.jsx)("div",{className:"about-me__button-wrap",children:Object(l.jsx)("button",{className:"btn-sing-up btn-danger btn btn-reset",children:Object(l.jsx)(o.Link,{to:"formComponent",spy:!0,smooth:!0,children:Object(l.jsx)("span",{className:"btn-sing-up__text",children:"Sing up now"})})})})]})})})})},u=function(){return Object(l.jsx)("footer",{className:"footer content-container",children:Object(l.jsx)("div",{children:"\xa9\xa0abz.agency specially for the test task"})})},m=s(3),j=s.n(m),b=s(5),p=s(4),h=s(33),x=s(81),O=s(19),f=["image/jpg","image/jpeg"],v=O.b().shape({name:O.c().min(2,"Too Short!").max(60,"Too Long!").required("Required"),email:O.c().required("Required").max(100,"To long email").matches(/^(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])$/,"Invalid email address"),phone:O.c().required("Required").matches(/^[\+]{0,1}380([0-9]{9})$/,"Invalid phone number"),photo:O.a().required("You need to provide a picture").test("size","The file is too large",(function(e){return e&&e[0].size<=512e4})).test("type","We only support jpg and jpeg",(function(e){return e&&f.includes(e[0].type)}))}),_=function(e){var t=e.onSubmitFunc,s=e.positions,n=Object(h.b)({resolver:Object(x.yupResolver)(v),defaultValues:{name:"",email:"",phone:"",picked:"".concat(1),photo:void 0}}),c=n.register,a=n.handleSubmit,r=n.errors,i=n.reset,o=(0,n.watch)("photo",!1),d=s.map((function(e,t){return Object(l.jsxs)("div",{className:"form-check form__position_height",children:[Object(l.jsx)("input",{className:"form-check-input",id:t.toString(),type:"radio",name:"picked",value:e.id,ref:c}),Object(l.jsx)("label",{className:"form-check-label",htmlFor:t.toString(),children:e.name})]},e.id)}));return Object(l.jsx)("section",{className:"form-wrapper content-container",id:"formComponent",children:Object(l.jsxs)("div",{className:"form-wrapper_center",children:[Object(l.jsxs)("div",{className:"form-wrapper__text",children:[Object(l.jsx)("div",{className:"title form-title",children:"Register to get a work"}),Object(l.jsxs)("div",{className:"form-description",children:["Attention! After successful registration and alert, update the ",Object(l.jsx)("br",{}),"list of users in the block from the top"]})]}),Object(l.jsxs)("form",{onSubmit:a((function(e){return t(e,i)})),className:"form",children:[Object(l.jsxs)("div",{className:"form__name",children:[Object(l.jsx)("label",{className:"form-label",htmlFor:"name",children:"Name"}),Object(l.jsx)("input",{className:r.name?"is-invalid form-control":"form-control",ref:c,type:"text",name:"name",placeholder:"Your name"}),r.name&&Object(l.jsx)("div",{className:"text-danger",children:r.name.message})]}),Object(l.jsxs)("div",{className:"form__email",children:[Object(l.jsx)("label",{className:"form-label",htmlFor:"email",children:"Email"}),Object(l.jsx)("input",{className:r.email?"is-invalid form-control":"form-control",ref:c,type:"email",name:"email",placeholder:"Your email"}),r.email&&Object(l.jsx)("div",{className:"text-danger",children:r.email.message})]}),Object(l.jsxs)("div",{className:"form__phone",children:[Object(l.jsx)("label",{className:"form-label",htmlFor:"phone",children:"Phone number"}),Object(l.jsx)("input",{className:r.phone?"is-invalid form-control":"form-control",ref:c,type:"tel",name:"phone",placeholder:"+380 XX XXX XX XX",a11e:"phoneHelp"}),r.phone&&Object(l.jsx)("div",{className:"text-danger",children:r.phone.message}),Object(l.jsx)("div",{className:"form__text",id:"phoneHelp",children:"Enter a phone number in international format"})]}),Object(l.jsxs)("div",{className:"form__position",children:[Object(l.jsx)("label",{children:"Select your position"}),d]}),Object(l.jsxs)("div",{className:"form__photo",children:[Object(l.jsx)("label",{className:"form-label",children:"Photo"}),Object(l.jsxs)("div",{className:"custom-file",children:[Object(l.jsx)("input",{className:r.photo?"is-invalid custom-file-label form-control":"custom-file-label form-control",id:"inputGroupFile",ref:c,type:"file",name:"photo"}),Object(l.jsx)("label",{className:r.photo?"is-invalid custom-file-label form-control":"custom-file-label form-control",htmlFor:"inputGroupFile",children:o[0]?o[0].name:"Upload your photo"})]}),r.photo&&Object(l.jsx)("div",{className:"text-danger form__photo_error",children:r.photo.message})]}),Object(l.jsx)("div",{className:"form__button-wrap",children:Object(l.jsx)("button",{className:"btn-sing-up btn btn-danger btn-reset",type:"submit",children:Object(l.jsx)("span",{className:"btn-sing-up__text",children:"Sign up now"})})})]})]})})},g=s(8),N=window.innerWidth,y=function(){return N<576?3:6},k=function(e){document.body.style.overflow=e?"hidden":"scroll"},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return fetch("https://frontend-test-assignment-api.abz.agency/api/v1/users?page=".concat(e,"&count=").concat(y()))},S=function(){return fetch("https://frontend-test-assignment-api.abz.agency/api/v1/token")},T=function(){return fetch("https://frontend-test-assignment-api.abz.agency/api/v1/positions")},z=function(e,t){return fetch("https://frontend-test-assignment-api.abz.agency/api/v1/users",{method:"post",headers:new Headers({Accept:"multipart/form-data",Token:t}),body:e})},C=s(2),q="SET_USERS",E="ADD_USERS",F="SET_TOTAL_PAGES_COUNT",L={users:[],total_pages_count:null},P=function(e){return{type:q,users:e}},I=function(e){return function(){var t=Object(b.a)(j.a.mark((function t(s){var n,c;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,w(e);case 3:if(!(n=t.sent).ok){t.next=12;break}return t.next=7,n.json();case 7:c=t.sent,s(e?(r=c.users,{type:E,users:r}):P(c.users)),s((a=c.total_pages,{type:F,num:a})),t.next=13;break;case 12:console.error(n.statusText);case 13:t.next=18;break;case 15:t.prev=15,t.t0=t.catch(0),console.error(t.t0);case 18:case"end":return t.stop()}var a,r}),t,null,[[0,15]])})));return function(e){return t.apply(this,arguments)}}()},R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case q:return Object(g.a)(Object(g.a)({},e),{},{users:t.users.sort((function(e,t){return t.registration_timestamp-e.registration_timestamp}))});case E:return Object(g.a)(Object(g.a)({},e),{},{users:Object(C.a)(e.users.concat(t.users).sort((function(e,t){return t.registration_timestamp-e.registration_timestamp})))});case F:return Object(g.a)(Object(g.a)({},e),{},{total_pages_count:t.num});default:return e}},X="SET_TOKEN",A="SET_POSITIONS",U={token:"",positions:[]},M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case X:return Object(g.a)(Object(g.a)({},e),{},{token:t.token});case A:return Object(g.a)(Object(g.a)({},e),{},{positions:t.positions});default:return e}},W=function(e){var t=e.modal,s=e.setModal;return Object(n.useEffect)((function(){return k(t),function(){return k(!1)}}),[t]),Object(l.jsx)("div",{className:"modal modal-custom",children:Object(l.jsx)("div",{className:"modal-dialog modal-dialog-centered modal-custom__dialog",children:Object(l.jsxs)("div",{className:"modal-content",children:[Object(l.jsxs)("div",{className:"modal-header",children:[Object(l.jsx)("h5",{className:"modal-title",children:t.isSuccess?Object(l.jsx)("span",{children:"Congratulations"}):Object(l.jsx)("span",{children:"Oups..."})}),Object(l.jsx)("button",{onClick:function(){return s(!1)},type:"button",className:"close","aria-label":"Close",children:Object(l.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(l.jsx)("div",{className:"modal-body",children:t.isSuccess?Object(l.jsx)("div",{children:"You have successfully passed the registration"}):Object(l.jsx)("div",{children:t.message})}),Object(l.jsx)("div",{className:"modal-footer",children:Object(l.jsx)("button",{type:"button",className:"btn btn-danger",onClick:function(){return s(!1)},children:t.isSuccess?Object(l.jsx)("span",{children:"Great"}):Object(l.jsx)("span",{children:"Ok"})})})]})})})},D=Object(i.b)((function(e){return{token:e.formPage.token,positions:e.formPage.positions}}),{saveUser:function(e,t){return function(){var s=Object(b.a)(j.a.mark((function s(n){var c,a;return j.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,z(e,t);case 3:return c=s.sent,s.next=6,c.json();case 6:if(!(a=s.sent).success){s.next=12;break}return n(I()),s.abrupt("return",{isSuccess:!0});case 12:return s.abrupt("return",{isSuccess:!1,message:a.message});case 13:s.next=18;break;case 15:s.prev=15,s.t0=s.catch(0),console.error(s.t0);case 18:case"end":return s.stop()}}),s,null,[[0,15]])})));return function(e){return s.apply(this,arguments)}}()}})((function(e){var t=e.saveUser,s=e.token,c=e.positions,a=Object(n.useState)(!1),r=Object(p.a)(a,2),i=r[0],o=r[1],d=function(){var e=Object(b.a)(j.a.mark((function e(n,c){var a,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new FormData).append("name",n.name),a.append("email",n.email),a.append("phone",n.phone),a.append("position_id",n.picked),a.append("photo",n.photo[0]),e.next=8,t(a,s);case 8:(r=e.sent).isSuccess?(o(r),c(r)):o(r);case 10:case"end":return e.stop()}}),e)})));return function(t,s){return e.apply(this,arguments)}}();return Object(l.jsxs)("div",{children:[i&&Object(l.jsx)(W,{modal:i,setModal:o}),Object(l.jsx)(_,{positions:c,onSubmitFunc:d})]})})),G=s.p+"static/media/logo.d190168a.svg",Y=function(){var e=Object(n.useState)(!1),t=Object(p.a)(e,2),s=t[0],c=t[1];return Object(n.useEffect)((function(){k(s)}),[s]),Object(l.jsx)("header",{className:"header",children:Object(l.jsxs)("div",{className:"header__body content-container",children:[Object(l.jsx)(o.Link,{className:"header__logo",to:"formComponent",spy:!0,smooth:!0,children:Object(l.jsx)("img",{src:G,alt:"logo.."})}),Object(l.jsx)("div",{className:"header__burger ".concat(s?"active":""),onClick:function(){return c(!s)},children:Object(l.jsx)("span",{})}),Object(l.jsx)("nav",{className:"header__menu ".concat(s?"active":""),children:Object(l.jsx)("div",{className:"header__menu-container",children:Object(l.jsxs)("ul",{className:"header__list",children:[Object(l.jsx)("li",{children:Object(l.jsx)("div",{className:"header__link",children:Object(l.jsx)(o.Link,{to:"",spy:!0,smooth:!0,children:"About me"})})}),Object(l.jsx)("li",{children:Object(l.jsx)("div",{className:"header__link",children:Object(l.jsx)(o.Link,{to:"",spy:!0,smooth:!0,children:"Relationships"})})}),Object(l.jsx)("li",{children:Object(l.jsx)("div",{className:"header__link",children:Object(l.jsx)(o.Link,{to:"",spy:!0,smooth:!0,children:"Requirements"})})}),Object(l.jsx)("li",{children:Object(l.jsx)("div",{className:"header__link",children:Object(l.jsx)(o.Link,{to:"",spy:!0,smooth:!0,children:"Users"})})}),Object(l.jsx)("li",{children:Object(l.jsx)("div",{className:"header__link",children:Object(l.jsx)(o.Link,{to:"formComponent",spy:!0,smooth:!0,children:"Sign up"})})})]})})})]})})},H=s.p+"static/media/man-laptop-v1.bdb026ef.svg",J=function(){return Object(l.jsxs)("section",{className:"requirements content-container",children:[Object(l.jsx)("div",{className:"title requirements__title",children:"Let's get acquainted"}),Object(l.jsxs)("div",{className:"requirements__content-container",children:[Object(l.jsx)("div",{className:"requirements__first-column",children:Object(l.jsx)("div",{className:"requirements__img-container",children:Object(l.jsx)("img",{className:"requirements__img-container_img-size",src:H})})}),Object(l.jsxs)("div",{className:"requirements__second-column text",children:[Object(l.jsx)("div",{className:"text__description",children:"I am cool frontend developer"}),Object(l.jsx)("div",{className:"text__article",children:"We will     evaluate how clean your approach to writing CSS and Javascript code is. You can use any CSS and Javascript 3rd party libraries without any restriction."}),Object(l.jsx)("div",{className:"text__article",children:"If 3rd party css/javascript libraries are added to the project via bower/npm/yarn you will get bonus points. If you use any task runner (gulp/webpack) you will get bonus points as well. Slice service directory page PSD mockup into HTML5/CSS3."}),Object(l.jsx)("div",{className:"text__btn",children:Object(l.jsx)(o.Link,{to:"formComponent",spy:!0,smooth:!0,children:"Sing up now"})})]})]})]})},$=s.p+"static/media/photo-cover.ee434590.svg",B=function(e){var t=e.item,s=Object(n.useState)(""),c=Object(p.a)(s,2),a=c[0],r=c[1];return function(e,t,s){var n=new Image;n.src=e,n.onload=function(){return s(e)},n.onerror=function(){return s(t)}}(t.photo,$,r),Object(l.jsx)("div",{className:"item-wrapper",children:Object(l.jsxs)("div",{className:"item",children:[Object(l.jsx)("div",{className:"item__photo",children:Object(l.jsx)("img",{src:a})}),Object(l.jsx)("div",{className:"item__name",children:t.name}),Object(l.jsx)("div",{className:"item__position",children:t.position}),Object(l.jsxs)("div",{className:"item__email email",children:[Object(l.jsx)("div",{className:"email__container",children:t.email}),Object(l.jsx)("span",{className:"email__tooltip",children:t.email})]}),Object(l.jsx)("div",{className:"item__phone",children:t.phone})]})})},K=function(e){var t=e.showMore,s=e.users,n=e.total_pages_count,c=e.pageNum,a=s.map((function(e){return Object(l.jsx)(B,{item:e},e.id)}));return Object(l.jsx)("section",{className:"users content-container",children:Object(l.jsxs)("div",{className:"users__content-wrap",children:[Object(l.jsxs)("div",{children:[Object(l.jsx)("div",{className:"title users__title",children:"Our cheerful users"}),Object(l.jsx)("div",{className:"users__description",children:"Attention! Sorting users by registration date"})]}),Object(l.jsx)("div",{className:"users__list",children:a}),Object(l.jsx)("div",{className:"users__btn",children:n!==c-1?Object(l.jsx)("button",{className:"btn btn-danger btn-reset",onClick:t,color:"danger",children:Object(l.jsx)("span",{className:"users__btn_wide",children:"Show more"})}):null})]})})},V=function(){var e=Object(n.useState)(2),t=Object(p.a)(e,2),s=t[0],c=t[1],a=Object(i.d)((function(e){return e.usersPage.users})),r=Object(i.d)((function(e){return e.usersPage.total_pages_count})),o=Object(i.c)();return Object(l.jsx)(K,{showMore:function(){o(I(s)),c(s+1)},users:a,total_pages_count:r,pageNum:s})},Q=function(){var e=Object(i.c)();return Object(n.useEffect)((function(){e(I()),e(function(){var e=Object(b.a)(j.a.mark((function e(t){var s,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S();case 3:return s=e.sent,e.next=6,s.json();case 6:(n=e.sent).success?t((c=n.token,{type:X,token:c})):console.error(n.message),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}var c}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()),e(function(){var e=Object(b.a)(j.a.mark((function e(t){var s,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T();case 3:return s=e.sent,e.next=6,s.json();case 6:(n=e.sent).success?t((c=n.positions,{type:A,positions:c})):console.error(n.message),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}var c}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}())}),[]),Object(l.jsx)("div",{className:"site-container",children:Object(l.jsxs)("div",{className:"main-container",children:[Object(l.jsx)(Y,{}),Object(l.jsxs)("main",{className:"main",children:[Object(l.jsx)(d,{}),Object(l.jsx)(J,{}),Object(l.jsx)(V,{}),Object(l.jsx)(D,{})]}),Object(l.jsx)(u,{})]})})},Z=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,202)).then((function(t){var s=t.getCLS,n=t.getFID,c=t.getFCP,a=t.getLCP,r=t.getTTFB;s(e),n(e),c(e),a(e),r(e)}))},ee=(s(200),s(18)),te=s(82),se=Object(ee.c)({usersPage:R,formPage:M}),ne=Object(ee.d)(se,Object(ee.a)(te.a));r.a.render(Object(l.jsx)(c.a.StrictMode,{children:Object(l.jsx)(i.a,{store:ne,children:Object(l.jsx)(Q,{})})}),document.getElementById("root")),Z()},87:function(e,t,s){}},[[201,1,2]]]);
//# sourceMappingURL=main.8b0592d4.chunk.js.map